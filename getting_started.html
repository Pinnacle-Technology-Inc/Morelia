

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Hitchhiker’s Guide to Morelia 🐍 &mdash; Morelia v1.6.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/style.css" />

  
      <script src="_static/jquery.js"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
      <script src="_static/doctools.js"></script>
      <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Harnessing Data Acquisition Systems 🤠" href="streaming.html" />
    <link rel="prev" title="Welcome to Morelia’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Morelia
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Hitchhiker’s Guide to Morelia 🐍</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-your-environment">Setting Up Your Environment 🌱</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#windows">Windows 🪟</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gnu-linux">GNU/Linux 🐧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows-subsystem-for-linux-2">Windows Subsystem for Linux 2 💾</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation 💽</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-pypi">Installing From PyPI 📦</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-source">Installing from Source 👷</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-to-devices">Connecting to Devices 🔌</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-devices">Configuring Devices 🎨</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-to-next">Where to Next? 🤔</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-in-a-name">What’s in a Name? 🌹</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="streaming.html">Harnessing Data Acquisition Systems 🤠</a></li>
<li class="toctree-l1"><a class="reference internal" href="sleep_dep.html">Controlling Sleep Deprivation Systems 😴</a></li>
<li class="toctree-l1"><a class="reference internal" href="stimulus.html">Wielding Stimulus Controllers 🤺</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Morelia</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Morelia</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">The Hitchhiker’s Guide to Morelia 🐍</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/getting_started.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-hitchhiker-s-guide-to-morelia">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">The Hitchhiker’s Guide to Morelia 🐍</a><a class="headerlink" href="#the-hitchhiker-s-guide-to-morelia" title="Permalink to this heading"></a></h1>
<p>Welcome to the getting started guide for Pinnacle Technology’s Python API: Morelia. This tutorial is meant for complete beginners,
and only assumes basic Python programming skills. If you have not used Python before, or simply need to refresher, <a class="reference external" href="https://docs.python.org/3/tutorial/index.html">the official
Python tutorial</a> is a good place to start. In terms of content, this guide contains:</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#the-hitchhiker-s-guide-to-morelia" id="id1">The Hitchhiker’s Guide to Morelia 🐍</a></p>
<ul>
<li><p><a class="reference internal" href="#setting-up-your-environment" id="id2">Setting Up Your Environment 🌱</a></p>
<ul>
<li><p><a class="reference internal" href="#windows" id="id3">Windows 🪟</a></p></li>
<li><p><a class="reference internal" href="#gnu-linux" id="id4">GNU/Linux 🐧</a></p></li>
<li><p><a class="reference internal" href="#windows-subsystem-for-linux-2" id="id5">Windows Subsystem for Linux 2 💾</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#installation" id="id6">Installation 💽</a></p>
<ul>
<li><p><a class="reference internal" href="#installing-from-pypi" id="id7">Installing From PyPI 📦</a></p></li>
<li><p><a class="reference internal" href="#installing-from-source" id="id8">Installing from Source 👷</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#connecting-to-devices" id="id9">Connecting to Devices 🔌</a></p></li>
<li><p><a class="reference internal" href="#configuring-devices" id="id10">Configuring Devices 🎨</a></p></li>
<li><p><a class="reference internal" href="#where-to-next" id="id11">Where to Next? 🤔</a></p></li>
<li><p><a class="reference internal" href="#what-s-in-a-name" id="id12">What’s in a Name? 🌹</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="setting-up-your-environment">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Setting Up Your Environment 🌱</a><a class="headerlink" href="#setting-up-your-environment" title="Permalink to this heading"></a></h2>
<p>To use Morelia, you must have the Python programming language installed. Morelia is officially supported for
Python &gt;= 3.10, however it may also be compatible with other versions (these just have not been tested).</p>
<section id="windows">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Windows 🪟</a><a class="headerlink" href="#windows" title="Permalink to this heading"></a></h3>
<p>For Windows, all that is required is to install the proper device drivers.
You can download and install our USB drivers
from <a class="reference external" href="https://pinnaclet.com/drivers.html">our website</a>.</p>
<p>It is also important to make
sure that the virtual COM port functionality is enabled on each device. This can be done by opening
<code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Manager</span></code>, finding the device in question (it usually shows up as a “USB Serial Converter” under the
“Universal Serial Bus controller”), right-clicking and selecting <code class="docutils literal notranslate"><span class="pre">Properties</span></code>. From there, select the
<code class="docutils literal notranslate"><span class="pre">Advanced</span></code> menu and check the <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">VCP</span></code> box.</p>
<p>Please note that in select devices (mainly 8274D and 8229s) enabling VCP can cause issues when connecting to your
devices in Sirenia, so you may need to unload the VCP functionality when you are ready to access your device in Sirenia again.</p>
</section>
<section id="gnu-linux">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">GNU/Linux 🐧</a><a class="headerlink" href="#gnu-linux" title="Permalink to this heading"></a></h3>
<p>For Linux, the drivers are included in the Kernel by default. However, if you have
an older device (acquired before 2024), some modifications may need to be made to
the device’s firmware for it to be properly recognized by the kernel. If your device
is not being properly recognized, please reach out to us at <a class="reference external" href="mailto:sales&#37;&#52;&#48;pinnaclet&#46;com">sales<span>&#64;</span>pinnaclet<span>&#46;</span>com</a>.</p>
</section>
<section id="windows-subsystem-for-linux-2">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Windows Subsystem for Linux 2 💾</a><a class="headerlink" href="#windows-subsystem-for-linux-2" title="Permalink to this heading"></a></h3>
<p>If using the Windows Subsystem for Linux 2 (WSL), special care must be taken to set up an environment
in addition to the normal GNU/Linux instructions.
First, we must load the proper driver into the kernel. We can do this by running the following command as root:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># modprobe ftdi_sio</span>
</pre></div>
</div>
<p>Next, we want to verify that WSL is starting <code class="docutils literal notranslate"><span class="pre">systemd</span></code>. Make sure that the file
<code class="docutils literal notranslate"><span class="pre">/etc/wsl.conf</span></code> contains the lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">boot</span><span class="p">]</span>
<span class="n">systemd</span><span class="o">=</span><span class="n">true</span>
</pre></div>
</div>
<p>Finally, we must download and install an additional tool to make our serial devices
available to WSL called <code class="docutils literal notranslate"><span class="pre">usbipd</span></code>. Instructions to download, install, and use this
product are available on <a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/connect-usb">their documentation</a>.
Make sure to share any devices you wish to access using WSL!</p>
<p>After the devices have been shared, you should see your serial devices in WSL.</p>
</section>
</section>
<section id="installation">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Installation 💽</a><a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>With our environment set up, we can now continue on our journey and install Morelia! Morelia can be installed one of two ways:</p>
<ul class="simple">
<li><p>From the <a class="reference external" href="https://pypi.org/">Python Package Index (PyPI) (recommended)</a></p></li>
<li><p>Manually from the <a class="reference external" href="https://github.com/Pinnacle-Technology-Inc/Morelia">Source code</a></p></li>
</ul>
<section id="installing-from-pypi">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Installing From PyPI 📦</a><a class="headerlink" href="#installing-from-pypi" title="Permalink to this heading"></a></h3>
<p>Unfortunately, Morelia has not been published to PyPI yet! 😭  Check back soon for more updates,
and please refer to the next subsection for installing from source!</p>
</section>
<section id="installing-from-source">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Installing from Source 👷</a><a class="headerlink" href="#installing-from-source" title="Permalink to this heading"></a></h3>
<p>To begin, <a class="reference external" href="https://github.com/Pinnacle-Technology-Inc/Morelia/releases">download the latest source code release</a> from Github
(you just need to download one of the files, which one you choose is up to personal preference), decompress it
using your favorite method, and enter the top level directory though your favorite terminal emulator. After that,
run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install .
</pre></div>
</div>
<p>To verify that Morelia is correctly installed, you can run the following command in
the Python interactive shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="kn">import</span> <span class="nn">Morelia</span>
</pre></div>
</div>
<p>If that runs with no errors, then you are ready to begin programming!</p>
</section>
</section>
<section id="connecting-to-devices">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Connecting to Devices 🔌</a><a class="headerlink" href="#connecting-to-devices" title="Permalink to this heading"></a></h2>
<p>After getting set up, the first step is to connect to our devices. To begin, we must first
import the proper classes from Morelia. Currently, the following devices are supported via
the <code class="docutils literal notranslate"><span class="pre">Morelia.Devices</span></code> submodule:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device</p></th>
<th class="head"><p>Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>8206HR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Pod8206HR</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>8401HR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Pod8401HR</span></code></p></td>
</tr>
<tr class="row-even"><td><p>8274D</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Pod8274D</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>8229</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Pod8229</span></code></p></td>
</tr>
<tr class="row-even"><td><p>8480SC</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Pof8480SC</span></code></p></td>
</tr>
</tbody>
</table>
<p>To connect to any of these devices, instantiate an instance of the class with a string that contains the port name.
On Linux, this will most likely take the form of a file path (e.g. <code class="docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code>) as on Windows, this is simply the
port name (e.g. <code class="docutils literal notranslate"><span class="pre">COM0</span></code>).</p>
<p>Each devices takes different parameters for instantiation, but there are a few that are common across all devices:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">port</span></code>: Exactly what it sounds like, the serial port the device is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">baudrate</span></code>: This parameter is optional and only relevant for the 8229 and 8274D. The default should be fine for most use cases, but feel free to contact us
with any questions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">device_name</span></code>: A virtual name that identifies the device, this can be whatever makes the most sense to you. This parameter is optional
and defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<p>For the specific additional parameters of each device, see the documentation for the corresponding class.</p>
<p>As an example, let’s connect to an 8206HR that is connected on
<code class="docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code>. Luckily for us, the 8206HR only takes one more parameter in addition to the defaults in its constructor – <cite>preamp_gain</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the proper class from Morelia.</span>
<span class="kn">from</span> <span class="nn">Morelia.Devices</span> <span class="kn">import</span> <span class="n">Pod8206HR</span>

<span class="c1"># Connect to an 8206HR on /dev/ttyUSB0 and set the preamplifer gain to 10.</span>
<span class="n">pod</span> <span class="o">=</span> <span class="n">Pod8206HR</span><span class="p">(</span><span class="s1">&#39;/dev/ttyUSB0&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>It’s really as simple as that! Granted, some devices are much more complex that other due to vast number of configuration options (e.g. the 8401HR), but overall
connecting to most devices will look similar to the above example.</p>
</section>
<section id="configuring-devices">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Configuring Devices 🎨</a><a class="headerlink" href="#configuring-devices" title="Permalink to this heading"></a></h2>
<p>Aside from parameters passed to devices on connection, there are also many other knobs and dials for you to adjust on each device
for your experiment! This tends to be very device-specific, so please refer to the individual documentation of each device to see the
available options.</p>
</section>
<section id="where-to-next">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Where to Next? 🤔</a><a class="headerlink" href="#where-to-next" title="Permalink to this heading"></a></h2>
<p>Now that you have connected and configured all of your devices, the world is your neurological oyster! From this point, there are several different things you can do
using Morelia:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="streaming.html"><span class="doc">Streaming from data aquisition systems</span></a></p></li>
<li><p><a class="reference internal" href="sleep_dep.html"><span class="doc">Controlling sleep deprivation system</span></a></p></li>
<li><p><a class="reference internal" href="stimulus.html"><span class="doc">Wielding stimulus controllers</span></a></p></li>
</ul>
</div></blockquote>
<p>Happy experimenting! 😁</p>
</section>
<section id="what-s-in-a-name">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">What’s in a Name? 🌹</a><a class="headerlink" href="#what-s-in-a-name" title="Permalink to this heading"></a></h2>
<p>At Pinnacle, it’s a bit of a tradition to name our products after animals. Since Morelia is written in
Python, we decided to name it after a <a class="reference external" href="https://en.wikipedia.org/wiki/Morelia_(snake)">genus of pythons</a>. 😁🐍</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to Morelia’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="streaming.html" class="btn btn-neutral float-right" title="Harnessing Data Acquisition Systems 🤠" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Pinnacle Technology.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>